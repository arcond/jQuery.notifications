(function(a,b){a.notifications=function(b,c,d,e){function u(){switch(f.location.toLowerCase()){case"top-left":return"width:"+f.width+"; top:0; left:0;";case"top-right":return"width:"+f.width+"; top:0; right:0;";case"bottom-right":return"width:"+f.width+"; bottom:0; right:0;";case"bottom-left":return"width:"+f.width+"; bottom:0; left:0;";case"top":return"width:100%; top:0;";case"bottom":default:return"width:100%; bottom:0;"}}function t(){if(n()==="document"||n()==="window")return true;return false}function s(){return t()?"position:fixed;":"position:absolute;"}function r(){if(a("#"+n()+"-notification-area").length)return a("#"+n()+"-notification-area");var b=a("<div></div>",{id:n()+"-notification-area",name:n()+"-notification-area",style:s()+" display:none; text-align:center; "+u()}).appendTo(t()?a("body"):g).addClass("notification-area");var c=a("<div></div>",{style:"text-align:left; width:100%;",html:f.title}).addClass("notification-title").appendTo(b);if(!t())g.css("position","relative");return b}function q(b,c,d){if(typeof b==="string"){if(b.toLowerCase()==="options"&&c&&d){if(f[c]){f[c]=d;p()}else a.error("Option "+c+" does not exist in jQuery.ajaxy.")}else{switch(b.toLowerCase()){case"clear":return j();case"notify":return k(c);case"toggle":return l();case"target":return g;default:a.error("Method "+b+" does not exist in jQuery.ajaxy.");break}}}}function p(){if(t())a("body").data(n()+"-notificationPipe-settings",f);else g.data("notification-settings",f)}function o(){if(t())return a("body").data(n()+"-notificationPipe-settings");return g.data("notification-settings")}function n(){return g.attr&&g.attr("id")||g.get(0).tagName||(typeof g.get(0)===typeof window&&g.get(0).document?"window":"document")}function m(b,c,d,e){g=b;if(typeof c==="object")f=a.extend({},a.notifications.defaults,c);f=a.extend({},a.notifications.defaults,o(),f);p();h=r();q(c,d,e);if(f.usesJQueryUI===true){a(".notification-area").each(function(b,c){if(!a(this).hasClass("ui-widget"))a(this).addClass("ui-widget")});a(".notification-title").each(function(b,c){if(!a(this).hasClass("ui-widget-header"))a(this).addClass("ui-widget-header")});a(".notification-message").each(function(b,c){if(!a(this).hasClass("ui-widget-content"))a(this).addClass("ui-widget-content")})}}var f={};var g={};var h={};var i=0;var j=function(){h.children(".notification-message").each(function(b,c){var d=a(this);d.fadeOut("fast",function(){d.remove()})})};var k=function(b){if(f.appendAlerts===false)j();a("<div></div>",{style:"width:100%;",html:b}).addClass("notification-message").on("click",function(){if(i>0)clearTimeout(i);var b=a(this),c=b.parent();b.fadeOut("fast",function(){b.remove();if(c.children("div").length<=1)l()})}).appendTo(h);if(!h.is(":visible"))l();if(f.timeout>0){if(i!=0)clearTimeout(i);i=setTimeout(l,f.timeout)}};var l=function(){h.slideToggle("slow")};m(b,c,d,e);return{area:h,settings:f,target:g,timerPid:i,clear:j,notify:k,toggle:l}};a.notifications.defaults={appendAlerts:true,location:"bottom",timeout:0,title:"Notifications",width:"100px",usesJQueryUI:false};a.fn.notifications=function(b,c,d){return this.each(function(){new a.notifications(a(this),b,c,d)})}})(jQuery)